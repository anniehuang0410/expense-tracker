<div class="row my-5">
  <div class="col-md-6 m-auto mb-3">
    <div class="col-sm-6 m-auto mb-3">
      <form action="/filter" method="POST">
        <select name="category" id="category" class="form-select form-select-lg" aria-label="Default select example"
          onchange="this.form.submit();">
          {{#if selectedCategory}}
          <option value="{{selectedCategory}}">{{selectedCategory}}</option>
          {{else}}
          <option selected>篩選類別</option>
          {{/if}}
          <option value="">&nbsp;&nbsp;&nbsp;全部</option>
          <option value="家居物業">&nbsp;&nbsp;&nbsp;家居物業</option>
          <option value="交通出行">&nbsp;&nbsp;&nbsp;交通出行</option>
          <option value="休閒娛樂">&nbsp;&nbsp;&nbsp;休閒娛樂</option>
          <option value="餐飲食品">&nbsp;&nbsp;&nbsp;餐飲食品</option>
          <option value="其他">&nbsp;&nbsp;&nbsp;其他</option>
        </select>
      </form>
    </div>
    <div class="card card-body">
      <h1 class="text-center my-3">總金額：{{totalAmount}}</h1>
      <div class="list-container">
        <ul class="list-group list-group-flush mt-3">            
          {{#each expense}}
          <li class="row list-group-item">
            <div class="per-expense row d-flex align-items-center">
              <div class="col-2">
                <i class="fa-solid {{this.categoryId.icon}} me-2"></i>
              </div>
              <div class="col-6">
                <h4 class="mt-1">{{this.name}}</h5>
                <h5>{{this.date}}</h5>
              </div>
              <div class="col-2">
                <span class="h4">{{this.amount}}</span>
              </div>
              <div class="col-2">
                <a class="btn btn-success mb-1" href="/expenses/{{this._id}}/edit">修改</a>
                <form action="/expenses/{{this._id}}?_method=DELETE" method="POST" style="display: inline;">
                  <button type="submit" class="btn btn-danger text-white">刪除</button>
                </form>
              </div>
            </div>
          </li>
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-center add-button mt-3">
    <form action="/expenses/new">
      <button type="submit" class="btn btn-primary">新增支出</button>
    </form>
  </div>
</div>

